import{g as c,S as f,r as i,B as m,A as h}from"./skeleton-CAl9e_ab.js";import{L as d,f as w}from"./stop-preload-B50f6vnq.js";import{L as u}from"./you-may-also-like-DEooJnEz.js";class I{constructor(){this.initBaner().then(()=>d.stop("new-baner"))}async initBaner(){const e=c(".new-baner h2"),o=c(".new-baner__content"),r=this.getDocumentIdFromURL(),a=`https://firestore.googleapis.com/v1/projects/${{projectId:"crisp-b06bf"}.projectId}/databases/(default)/documents/blog/${r}`,s=await w(a);if(s.error){console.error("Ошибка при получении документа:",s.error.message);return}if(s.data){const l=s.data.fields.title.stringValue,g=s.data.fields.banerImg.stringValue;console.log(l),e&&o&&(e.textContent=l,o.style.backgroundImage=`url(${g})`)}}getDocumentIdFromURL(){return new URLSearchParams(window.location.search).get("id")}}const n=c(".new-info");class b{newInfo;constructor(){this.newInfo=null,this.initInfo().then(()=>d.stop("new-info"))}async initInfo(){const e=this.getDocumentIdFromURL(),r=`https://firestore.googleapis.com/v1/projects/${{projectId:"crisp-b06bf"}.projectId}/databases/(default)/documents/blog/${e}`,t=await w(r);if(t.error){console.error("Ошибка при загрузке данных:",t.error);return}t.data&&(this.newInfo=t.data.fields,this.renderNew(),new f)}getDocumentIdFromURL(){return new URLSearchParams(window.location.search).get("id")}renderNew(){if(n&&this.newInfo!=null){n.innerHTML="";const e=i("h3","new-info__title");e.textContent=this.newInfo.textTitle.stringValue;const o=i("p","new-info__text");o.textContent=this.newInfo.textFirst.stringValue;const r=i("div","new-info__img");r.innerHTML=`
        <picture>
          <source srcset="${this.newInfo.newImgWebP.stringValue}" type="image/webp" />
          <img src="${this.newInfo.newImg.stringValue}"/>
        </picture>
      `;const t=i("h3","new-info__title");t.textContent=this.newInfo.textTitle.stringValue;const a=i("p","new-info__text");a.textContent=this.newInfo.textSecond.stringValue,n.appendChild(e),n.appendChild(o),n.appendChild(r),n.appendChild(t),n.appendChild(a)}}}document.addEventListener("DOMContentLoaded",async()=>{new m,new h,new u,new I,new b,d.stop("adds")});new f;
