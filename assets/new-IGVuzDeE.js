import{g as c,f,r as i}from"./useFetch-CPNCRhkP.js";import{B as g,A as u,S as h}from"./search-DbR8hu1i.js";import{L as d}from"./stop-preload-lHMBXtTV.js";import{S as w,P as I}from"./pop-up-closer-BmjNRtmD.js";import{L as b}from"./you-may-also-like-CE_fieVy.js";import{A as C}from"./add-to-bag-D7o2r1jJ.js";import"./autoplay-CXgkKXRk.js";class _{constructor(){this.initBaner().then(()=>d.stop("new-baner"))}async initBaner(){const e=c(".new-baner h2"),o=c(".new-baner__content"),r=this.getDocumentIdFromURL(),a=`https://firestore.googleapis.com/v1/projects/${{projectId:"crisp-b06bf"}.projectId}/databases/(default)/documents/blog/${r}`,s=await f(a);if(s.error){console.error("Ошибка при получении документа:",s.error.message);return}if(s.data){const p=s.data.fields.title.stringValue,m=s.data.fields.banerImg.stringValue;e&&o&&(e.textContent=p,o.style.backgroundImage=`url(${m})`)}}getDocumentIdFromURL(){return new URLSearchParams(window.location.search).get("id")}}const n=c(".new-info");class L{newInfo;constructor(){this.newInfo=null,this.initInfo().then(()=>d.stop("new-info"))}async initInfo(){const e=this.getDocumentIdFromURL(),r=`https://firestore.googleapis.com/v1/projects/${{projectId:"crisp-b06bf"}.projectId}/databases/(default)/documents/blog/${e}`,t=await f(r);if(t.error){console.error("Ошибка при загрузке данных:",t.error);return}t.data&&(this.newInfo=t.data.fields,this.renderNew(),new w)}getDocumentIdFromURL(){return new URLSearchParams(window.location.search).get("id")}renderNew(){if(n&&this.newInfo!=null){n.innerHTML="";const e=i("h3","new-info__title");e.textContent=this.newInfo.textTitle.stringValue;const o=i("p","new-info__text");o.textContent=this.newInfo.textFirst.stringValue;const r=i("div","new-info__img");r.innerHTML=`
        <picture>
          <source srcset="${this.newInfo.newImgWebP.stringValue}" type="image/webp" />
          <img src="${this.newInfo.newImg.stringValue}"/>
        </picture>
      `;const t=i("h3","new-info__title");t.textContent=this.newInfo.textTitle.stringValue;const a=i("p","new-info__text");a.textContent=this.newInfo.textSecond.stringValue,n.appendChild(e),n.appendChild(o),n.appendChild(r),n.appendChild(t),n.appendChild(a)}}}document.addEventListener("DOMContentLoaded",async()=>{new g,new u,new C,new b,new _,new L,d.stop("adds"),new h,new I(".buy__bag",".bag__list")});new w;
