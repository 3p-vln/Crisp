import{g as e,B as i,A as n,S as u}from"./skeleton-CAl9e_ab.js";import{b as d,a as l,e as c,c as m,d as g,J as w}from"./firebase-BUfslSB_.js";class p{constructor(){this.init()}async init(){const s=e("#email").value,a=e("#password").value;try{const r=await d(l,s,a),t=await c(m(g,"users"),{uid:r.user.uid,name:e("#name").value,surname:e("#name-sign-up").value});console.log("Document written with ID: ",t.id),console.log(r.user.uid),document.cookie=`UID = ${r.user.uid}`}catch{console.log("There was an error")}}}class v{form;constructor(){this.form=e(".form"),this.form&&this.init()}init(){const s=new w(this.form,{errorLabelStyle:{color:"#1D1F21"}});s.addField(e("#name-sign-up"),[{rule:"required",errorMessage:"Enter your name"},{rule:"customRegexp",value:/^[-\w.]+$/i,errorMessage:"Write correct name"}]).addField(e("#surname-sign-up"),[{rule:"required",errorMessage:"Enter your surname"},{rule:"customRegexp",value:/^[-\w.]+$/i,errorMessage:"Write correct surname"}]).addField(e("#email"),[{rule:"required",errorMessage:"Enter your email"},{rule:"customRegexp",value:/^[-\w.]+@([а-яёa-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,errorMessage:"Write correct email"}]).addField(e("#password"),[{rule:"required",errorMessage:"Enter your password"},{rule:"customRegexp",value:/(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z!@#$%^&*]{6,}/,errorMessage:"Incorrect password format"}]).addField(e("#confirm-password"),[{rule:"required",errorMessage:"Repeat your password"},{validator:a=>{const r=document.getElementById("password").value;return a===r},errorMessage:"Passwords must match"}]),s.onSuccess(()=>{console.log("Form is valid"),new p})}}document.addEventListener("DOMContentLoaded",async()=>{new i,new n,new v});new u;
