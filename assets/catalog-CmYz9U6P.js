import{g as N,a as _e,B as Pt,A as At,S as Lt}from"./search-CNxuQHz5.js";import{S as Ke}from"./shop-some-BOr1vT6S.js";import"./stop-preload-lHMBXtTV.js";const ze=N(".catalog__shop"),kt=N(".nothing");function Dt(){const r=N(".shop-some__items");let e=0;class i extends Ke{dropdownBox;arrowSvg;menu;options;sortOptions;selectedText;selectedOrder;sortOrder;sortItems;renderedCards;constructor(h){super(),this.dropdownBox=h.querySelector(".dropdown__box"),this.arrowSvg=h.querySelector(".dropdown__svg-arrow"),this.menu=h.querySelector(".dropdown__menu"),this.options=h.querySelectorAll(".dropdown__menu-item"),this.sortOptions=h.querySelectorAll(".sort-item"),this.selectedText=h.querySelector(".limit"),this.selectedOrder=h.querySelector(".dropdown__text"),this.sortItems=h.querySelectorAll(".sort-item"),this.sortOrder="ascend",this.renderedCards=[],this.dropdownBox?.addEventListener("click",()=>{this.arrowSvg?.classList.toggle("dropdown__svg-arrow_rotate"),this.menu?.classList.toggle("dropdown__menu_open")}),this.options.forEach(o=>{o.addEventListener("click",()=>{this.selectedText instanceof HTMLElement&&o instanceof HTMLElement&&(this.selectedText.innerText=o.innerText,this.menu?.classList.remove("dropdown__menu_open")),this.arrowSvg?.classList.remove("dropdown__svg-arrow_rotate"),this.options.forEach(m=>{m.classList.remove("dropdown__menu-item_active")}),o.classList.add("dropdown__menu-item_active"),this.renderCard()})}),this.sortItems.forEach(o=>{o.addEventListener("click",()=>{console.log(o.innerText==="HIGH",o.innerText),this.selectedOrder instanceof HTMLElement&&o instanceof HTMLElement&&(this.selectedOrder.innerText=o.innerText,this.menu?.classList.remove("dropdown__menu_open")),o.innerText==="HIGH"?this.sortOrder="ascend":o.innerText==="LOW"?this.sortOrder="descend":this.sortOrder="default",this.sortedCards()})})}renderCard=()=>{if(this.selectedText){e=Number(this.selectedText?.textContent),console.log(e);const h=this.shopDb.slice(0,e);r&&(r.innerHTML="",h.forEach(o=>{r&&(o.data.sale.booleanValue===!1?r.insertAdjacentHTML("afterbegin",`
            <a class="card shop-some__card ${o.id}" href="one-product.html?id=${o.id}">
              <div class="card__img">
                <picture>
                  <source srcset=${o.data.imgWebP.stringValue} type="image/webp" />
                  <img src=${o.data.img.stringValue} />
                </picture>
              </div>
              <div class="card__info">
                <p class="card__category">${o.data.category.stringValue}</p>
                <h3 class="card__title">${o.data.name.stringValue}</h3>
                <p class="card__price">${o.data.cost.stringValue}</p>
              </div>
            </a>
            `):r.insertAdjacentHTML("afterbegin",`
            <a class="card sale shop-some__card ${o.id}" href="one-product.html?id=${o.id}">
              <div class="card__img">
                <picture>
                  <source srcset=${o.data.imgWebP.stringValue} type="image/webp" />
                  <img src=${o.data.img.stringValue} />
                </picture>
                <div class="card__sale">
                  <p>-30%</p>
                </div>
              </div>
              <div class="card__info">
                <p class="card__category">${o.data.category.stringValue}</p>
                <h3 class="card__title">${o.data.name.stringValue}</h3>
                <p class="card__price">${o.data.costNew.stringValue} <span>${o.data.cost.stringValue}</span></p>
              </div>
            </a>
                `))}),localStorage.setItem("Cards",JSON.stringify(this.renderedCards)),console.log(ze)),ze?.classList.remove("catalog__shop_no-cards"),kt?.classList.remove("nothing_active")}};sortedCards=()=>{console.log(e);const h=this.shopDb.slice(0,e);this.sortOrder==="ascend"?h.sort((o,m)=>{const b=Object.values(o.data.cost.stringValue),g=Object.values(m.data.cost.stringValue),V=b.join("").trim().split(" ")[0].replace(",","."),P=g.join("").trim().split(" ")[0].replace(",",".");return Number(V)-Number(P)}):this.sortOrder==="descend"?h.sort((o,m)=>{const b=Object.values(o.data.cost.stringValue),g=Object.values(m.data.cost.stringValue),V=b.join("").trim().split(" ")[0].replace(",","."),P=g.join("").trim().split(" ")[0].replace(",",".");return Number(P)-Number(V)}):h.sort((o,m)=>{const b=o.data.brand.stringValue,g=m.data.brand.stringValue;return b.localeCompare(g)}),r&&(r.innerHTML="",h.forEach(o=>{r&&(o.data.sale.booleanValue===!1?r.insertAdjacentHTML("afterbegin",`
            <a class="card shop-some__card ${o.id}" href="one-product.html?id=${o.id}">
              <div class="card__img">
                <picture>
                  <source srcset=${o.data.imgWebP.stringValue} type="image/webp" />
                  <img src=${o.data.img.stringValue} />
                </picture>
              </div>
              <div class="card__info">
                <p class="card__category">${o.data.category.stringValue}</p>
                <h3 class="card__title">${o.data.name.stringValue}</h3>
                <p class="card__price">${o.data.cost.stringValue}</p>
              </div>
            </a>
            `):r.insertAdjacentHTML("afterbegin",`
            <a class="card sale shop-some__card ${o.id}" href="one-product.html?id=${o.id}">
              <div class="card__img">
                <picture>
                  <source srcset=${o.data.imgWebP.stringValue} type="image/webp" />
                  <img src=${o.data.img.stringValue} />
                </picture>
                <div class="card__sale">
                  <p>-30%</p>
                </div>
              </div>
              <div class="card__info">
                <p class="card__category">${o.data.category.stringValue}</p>
                <h3 class="card__title">${o.data.name.stringValue}</h3>
                <p class="card__price">$${o.data.cost.stringValue} <span>${o.data.costNew.stringValue}</span></p>
              </div>
            </a>
                `))}))}}document.querySelectorAll(".dropdown").forEach(f=>new i(f))}var R;(function(r){r.Range="range",r.Steps="steps",r.Positions="positions",r.Count="count",r.Values="values"})(R||(R={}));var O;(function(r){r[r.None=-1]="None",r[r.NoValue=0]="NoValue",r[r.LargeValue=1]="LargeValue",r[r.SmallValue=2]="SmallValue"})(O||(O={}));function Mt(r){return se(r)&&typeof r.from=="function"}function se(r){return typeof r=="object"&&typeof r.to=="function"}function Re(r){r.parentElement.removeChild(r)}function we(r){return r!=null}function Ne(r){r.preventDefault()}function Ot(r){return r.filter(function(e){return this[e]?!1:this[e]=!0},{})}function Ht(r,e){return Math.round(r/e)*e}function $t(r,e){var i=r.getBoundingClientRect(),u=r.ownerDocument,f=u.documentElement,h=Xe(u);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(h.x=0),e?i.top+h.y-f.clientTop:i.left+h.x-f.clientLeft}function $(r){return typeof r=="number"&&!isNaN(r)&&isFinite(r)}function Be(r,e,i){i>0&&(M(r,e),setTimeout(function(){re(r,e)},i))}function Ie(r){return Math.max(Math.min(r,100),0)}function ae(r){return Array.isArray(r)?r:[r]}function Ut(r){r=String(r);var e=r.split(".");return e.length>1?e[1].length:0}function M(r,e){r.classList&&!/\s/.test(e)?r.classList.add(e):r.className+=" "+e}function re(r,e){r.classList&&!/\s/.test(e)?r.classList.remove(e):r.className=r.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function jt(r,e){return r.classList?r.classList.contains(e):new RegExp("\\b"+e+"\\b").test(r.className)}function Xe(r){var e=window.pageXOffset!==void 0,i=(r.compatMode||"")==="CSS1Compat",u=e?window.pageXOffset:i?r.documentElement.scrollLeft:r.body.scrollLeft,f=e?window.pageYOffset:i?r.documentElement.scrollTop:r.body.scrollTop;return{x:u,y:f}}function Ft(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Tt(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,e)}catch{}return r}function zt(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function Ee(r,e){return 100/(e-r)}function Ce(r,e,i){return e*100/(r[i+1]-r[i])}function Rt(r,e){return Ce(r,r[0]<0?e+Math.abs(r[0]):e-r[0],0)}function Nt(r,e){return e*(r[1]-r[0])/100+r[0]}function Y(r,e){for(var i=1;r>=e[i];)i+=1;return i}function Bt(r,e,i){if(i>=r.slice(-1)[0])return 100;var u=Y(i,r),f=r[u-1],h=r[u],o=e[u-1],m=e[u];return o+Rt([f,h],i)/Ee(o,m)}function It(r,e,i){if(i>=100)return r.slice(-1)[0];var u=Y(i,e),f=r[u-1],h=r[u],o=e[u-1],m=e[u];return Nt([f,h],(i-o)*Ee(o,m))}function qt(r,e,i,u){if(u===100)return u;var f=Y(u,r),h=r[f-1],o=r[f];return i?u-h>(o-h)/2?o:h:e[f-1]?r[f-1]+Ht(u-r[f-1],e[f-1]):u}var Ge=function(){function r(e,i,u){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[u||!1],this.xNumSteps=[!1],this.snap=i;var f,h=[];for(Object.keys(e).forEach(function(o){h.push([ae(e[o]),o])}),h.sort(function(o,m){return o[0][0]-m[0][0]}),f=0;f<h.length;f++)this.handleEntryPoint(h[f][1],h[f][0]);for(this.xNumSteps=this.xSteps.slice(0),f=0;f<this.xNumSteps.length;f++)this.handleStepPoint(f,this.xNumSteps[f])}return r.prototype.getDistance=function(e){for(var i=[],u=0;u<this.xNumSteps.length-1;u++)i[u]=Ce(this.xVal,e,u);return i},r.prototype.getAbsoluteDistance=function(e,i,u){var f=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[f+1];)f++;else e===this.xPct[this.xPct.length-1]&&(f=this.xPct.length-2);!u&&e===this.xPct[f+1]&&f++,i===null&&(i=[]);var h,o=1,m=i[f],b=0,g=0,V=0,P=0;for(u?h=(e-this.xPct[f])/(this.xPct[f+1]-this.xPct[f]):h=(this.xPct[f+1]-e)/(this.xPct[f+1]-this.xPct[f]);m>0;)b=this.xPct[f+1+P]-this.xPct[f+P],i[f+P]*o+100-h*100>100?(g=b*h,o=(m-100*h)/i[f+P],h=1):(g=i[f+P]*b/100*o,o=0),u?(V=V-g,this.xPct.length+P>=1&&P--):(V=V+g,this.xPct.length-P>=1&&P++),m=i[f+P]*o;return e+V},r.prototype.toStepping=function(e){return e=Bt(this.xVal,this.xPct,e),e},r.prototype.fromStepping=function(e){return It(this.xVal,this.xPct,e)},r.prototype.getStep=function(e){return e=qt(this.xPct,this.xSteps,this.snap,e),e},r.prototype.getDefaultStep=function(e,i,u){var f=Y(e,this.xPct);return(e===100||i&&e===this.xPct[f-1])&&(f=Math.max(f-1,1)),(this.xVal[f]-this.xVal[f-1])/u},r.prototype.getNearbySteps=function(e){var i=Y(e,this.xPct);return{stepBefore:{startValue:this.xVal[i-2],step:this.xNumSteps[i-2],highestStep:this.xHighestCompleteStep[i-2]},thisStep:{startValue:this.xVal[i-1],step:this.xNumSteps[i-1],highestStep:this.xHighestCompleteStep[i-1]},stepAfter:{startValue:this.xVal[i],step:this.xNumSteps[i],highestStep:this.xHighestCompleteStep[i]}}},r.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(Ut);return Math.max.apply(null,e)},r.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},r.prototype.convert=function(e){return this.getStep(this.toStepping(e))},r.prototype.handleEntryPoint=function(e,i){var u;if(e==="min"?u=0:e==="max"?u=100:u=parseFloat(e),!$(u)||!$(i[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(u),this.xVal.push(i[0]);var f=Number(i[1]);u?this.xSteps.push(isNaN(f)?!1:f):isNaN(f)||(this.xSteps[0]=f),this.xHighestCompleteStep.push(0)},r.prototype.handleStepPoint=function(e,i){if(i){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=Ce([this.xVal[e],this.xVal[e+1]],i,0)/Ee(this.xPct[e],this.xPct[e+1]);var u=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],f=Math.ceil(Number(u.toFixed(3))-1),h=this.xVal[e]+this.xNumSteps[e]*f;this.xHighestCompleteStep[e]=h}},r}(),qe={to:function(r){return r===void 0?"":r.toFixed(2)},from:Number},Ye={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},z={tooltips:".__tooltips",aria:".__aria"};function Wt(r,e){if(!$(e))throw new Error("noUiSlider: 'step' is not numeric.");r.singleStep=e}function Kt(r,e){if(!$(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");r.keyboardPageMultiplier=e}function Xt(r,e){if(!$(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");r.keyboardMultiplier=e}function Gt(r,e){if(!$(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");r.keyboardDefaultStep=e}function Yt(r,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");r.spectrum=new Ge(e,r.snap||!1,r.singleStep)}function Jt(r,e){if(e=ae(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");r.handles=e.length,r.start=e}function Zt(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");r.snap=e}function Qt(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");r.animate=e}function er(r,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");r.animationDuration=e}function Je(r,e){var i=[!1],u;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(u=1;u<r.handles;u++)i.push(e);i.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==r.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=e}r.connect=i}function tr(r,e){switch(e){case"horizontal":r.ort=0;break;case"vertical":r.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ze(r,e){if(!$(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(r.margin=r.spectrum.getDistance(e))}function rr(r,e){if(!$(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(r.limit=r.spectrum.getDistance(e),!r.limit||r.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function sr(r,e){var i;if(!$(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||$(e[0])||$(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),r.padding=[r.spectrum.getDistance(e[0]),r.spectrum.getDistance(e[1])],i=0;i<r.spectrum.xNumSteps.length-1;i++)if(r.padding[0][i]<0||r.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var u=e[0]+e[1],f=r.spectrum.xVal[0],h=r.spectrum.xVal[r.spectrum.xVal.length-1];if(u/(h-f)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ar(r,e){switch(e){case"ltr":r.dir=0;break;case"rtl":r.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function ir(r,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,u=e.indexOf("drag")>=0,f=e.indexOf("fixed")>=0,h=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0,m=e.indexOf("unconstrained")>=0,b=e.indexOf("invert-connects")>=0,g=e.indexOf("drag-all")>=0,V=e.indexOf("smooth-steps")>=0;if(f){if(r.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ze(r,r.start[1]-r.start[0])}if(b&&r.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(m&&(r.margin||r.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");r.events={tap:i||h,drag:u,dragAll:g,smoothSteps:V,fixed:f,snap:h,hover:o,unconstrained:m,invertConnects:b}}function nr(r,e){if(e!==!1)if(e===!0||se(e)){r.tooltips=[];for(var i=0;i<r.handles;i++)r.tooltips.push(e)}else{if(e=ae(e),e.length!==r.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(u){if(typeof u!="boolean"&&!se(u))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),r.tooltips=e}}function or(r,e){if(e.length!==r.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");r.handleAttributes=e}function lr(r,e){if(!se(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");r.ariaFormat=e}function cr(r,e){if(!Mt(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");r.format=e}function ur(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");r.keyboardSupport=e}function fr(r,e){r.documentElement=e}function dr(r,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");r.cssPrefix=e}function hr(r,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof r.cssPrefix=="string"?(r.cssClasses={},Object.keys(e).forEach(function(i){r.cssClasses[i]=r.cssPrefix+e[i]})):r.cssClasses=e}function Qe(r){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:qe,format:qe},i={step:{r:!1,t:Wt},keyboardPageMultiplier:{r:!1,t:Kt},keyboardMultiplier:{r:!1,t:Xt},keyboardDefaultStep:{r:!1,t:Gt},start:{r:!0,t:Jt},connect:{r:!0,t:Je},direction:{r:!0,t:ar},snap:{r:!1,t:Zt},animate:{r:!1,t:Qt},animationDuration:{r:!1,t:er},range:{r:!0,t:Yt},orientation:{r:!1,t:tr},margin:{r:!1,t:Ze},limit:{r:!1,t:rr},padding:{r:!1,t:sr},behaviour:{r:!0,t:ir},ariaFormat:{r:!1,t:lr},format:{r:!1,t:cr},tooltips:{r:!1,t:nr},keyboardSupport:{r:!0,t:ur},documentElement:{r:!1,t:fr},cssPrefix:{r:!0,t:dr},cssClasses:{r:!0,t:hr},handleAttributes:{r:!1,t:or}},u={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ye,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};r.format&&!r.ariaFormat&&(r.ariaFormat=r.format),Object.keys(i).forEach(function(b){if(!we(r[b])&&u[b]===void 0){if(i[b].r)throw new Error("noUiSlider: '"+b+"' is required.");return}i[b].t(e,we(r[b])?r[b]:u[b])}),e.pips=r.pips;var f=document.createElement("div"),h=f.style.msTransform!==void 0,o=f.style.transform!==void 0;e.transformRule=o?"transform":h?"msTransform":"webkitTransform";var m=[["left","top"],["right","bottom"]];return e.style=m[e.dir][e.ort],e}function pr(r,e,i){var u=Ft(),f=zt(),h=f&&Tt(),o=r,m,b,g,V,P,T,v=e.spectrum,U=[],w=[],H=[],ie=0,j={},W=!1,q=r.ownerDocument,J=e.documentElement||q.documentElement,Z=q.body,et=q.dir==="rtl"||e.ort===1?0:100;function F(t,s){var a=q.createElement("div");return s&&M(a,s),t.appendChild(a),a}function tt(t,s){var a=F(t,e.cssClasses.origin),n=F(a,e.cssClasses.handle);if(F(n,e.cssClasses.touchArea),n.setAttribute("data-handle",String(s)),e.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",function(c){return mt(c,s)})),e.handleAttributes!==void 0){var l=e.handleAttributes[s];Object.keys(l).forEach(function(c){n.setAttribute(c,l[c])})}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),s===0?M(n,e.cssClasses.handleLower):s===e.handles-1&&M(n,e.cssClasses.handleUpper),a.handle=n,a}function ne(t,s){return s?F(t,e.cssClasses.connect):!1}function rt(t,s){b=F(s,e.cssClasses.connects),g=[],V=[],V.push(ne(b,t[0]));for(var a=0;a<e.handles;a++)g.push(tt(s,a)),H[a]=a,V.push(ne(b,t[a+1]))}function st(t){M(t,e.cssClasses.target),e.dir===0?M(t,e.cssClasses.ltr):M(t,e.cssClasses.rtl),e.ort===0?M(t,e.cssClasses.horizontal):M(t,e.cssClasses.vertical);var s=getComputedStyle(t).direction;return s==="rtl"?M(t,e.cssClasses.textDirectionRtl):M(t,e.cssClasses.textDirectionLtr),F(t,e.cssClasses.base)}function at(t,s){return!e.tooltips||!e.tooltips[s]?!1:F(t.firstChild,e.cssClasses.tooltip)}function Ve(){return o.hasAttribute("disabled")}function oe(t){var s=g[t];return s.hasAttribute("disabled")}function it(t){t!=null?(g[t].setAttribute("disabled",""),g[t].handle.removeAttribute("tabindex")):(o.setAttribute("disabled",""),g.forEach(function(s){s.handle.removeAttribute("tabindex")}))}function nt(t){t!=null?(g[t].removeAttribute("disabled"),g[t].handle.setAttribute("tabindex","0")):(o.removeAttribute("disabled"),g.forEach(function(s){s.removeAttribute("disabled"),s.handle.setAttribute("tabindex","0")}))}function le(){T&&(K("update"+z.tooltips),T.forEach(function(t){t&&Re(t)}),T=null)}function ye(){le(),T=g.map(at),he("update"+z.tooltips,function(t,s,a){if(!(!T||!e.tooltips)&&T[s]!==!1){var n=t[s];e.tooltips[s]!==!0&&(n=e.tooltips[s].to(a[s])),T[s].innerHTML=n}})}function ot(){K("update"+z.aria),he("update"+z.aria,function(t,s,a,n,l){H.forEach(function(c){var p=g[c],d=Q(w,c,0,!0,!0,!0),_=Q(w,c,100,!0,!0,!0),x=l[c],C=String(e.ariaFormat.to(a[c]));d=v.fromStepping(d).toFixed(1),_=v.fromStepping(_).toFixed(1),x=v.fromStepping(x).toFixed(1),p.children[0].setAttribute("aria-valuemin",d),p.children[0].setAttribute("aria-valuemax",_),p.children[0].setAttribute("aria-valuenow",x),p.children[0].setAttribute("aria-valuetext",C)})})}function lt(t){if(t.mode===R.Range||t.mode===R.Steps)return v.xVal;if(t.mode===R.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var s=t.values-1,a=100/s,n=[];s--;)n[s]=s*a;return n.push(100),Pe(n,t.stepped)}return t.mode===R.Positions?Pe(t.values,t.stepped):t.mode===R.Values?t.stepped?t.values.map(function(l){return v.fromStepping(v.getStep(v.toStepping(l)))}):t.values:[]}function Pe(t,s){return t.map(function(a){return v.fromStepping(s?v.getStep(a):a)})}function ct(t){function s(x,C){return Number((x+C).toFixed(7))}var a=lt(t),n={},l=v.xVal[0],c=v.xVal[v.xVal.length-1],p=!1,d=!1,_=0;return a=Ot(a.slice().sort(function(x,C){return x-C})),a[0]!==l&&(a.unshift(l),p=!0),a[a.length-1]!==c&&(a.push(c),d=!0),a.forEach(function(x,C){var E,S,A,D=x,L=a[C+1],k,ve,me,Se,je,be,Fe,Te=t.mode===R.Steps;for(Te&&(E=v.xNumSteps[C]),E||(E=L-D),L===void 0&&(L=D),E=Math.max(E,1e-7),S=D;S<=L;S=s(S,E)){for(k=v.toStepping(S),ve=k-_,je=ve/(t.density||1),be=Math.round(je),Fe=ve/be,A=1;A<=be;A+=1)me=_+A*Fe,n[me.toFixed(5)]=[v.fromStepping(me),0];Se=a.indexOf(S)>-1?O.LargeValue:Te?O.SmallValue:O.NoValue,!C&&p&&S!==L&&(Se=0),S===L&&d||(n[k.toFixed(5)]=[S,Se]),_=k}}),n}function ut(t,s,a){var n,l,c=q.createElement("div"),p=(n={},n[O.None]="",n[O.NoValue]=e.cssClasses.valueNormal,n[O.LargeValue]=e.cssClasses.valueLarge,n[O.SmallValue]=e.cssClasses.valueSub,n),d=(l={},l[O.None]="",l[O.NoValue]=e.cssClasses.markerNormal,l[O.LargeValue]=e.cssClasses.markerLarge,l[O.SmallValue]=e.cssClasses.markerSub,l),_=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],x=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];M(c,e.cssClasses.pips),M(c,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function C(S,A){var D=A===e.cssClasses.value,L=D?_:x,k=D?p:d;return A+" "+L[e.ort]+" "+k[S]}function E(S,A,D){if(D=s?s(A,D):D,D!==O.None){var L=F(c,!1);L.className=C(D,e.cssClasses.marker),L.style[e.style]=S+"%",D>O.NoValue&&(L=F(c,!1),L.className=C(D,e.cssClasses.value),L.setAttribute("data-value",String(A)),L.style[e.style]=S+"%",L.innerHTML=String(a.to(A)))}}return Object.keys(t).forEach(function(S){E(S,t[S][0],t[S][1])}),c}function ce(){P&&(Re(P),P=null)}function ue(t){ce();var s=ct(t),a=t.filter,n=t.format||{to:function(l){return String(Math.round(l))}};return P=o.appendChild(ut(s,a,n)),P}function Ae(){var t=m.getBoundingClientRect(),s="offset"+["Width","Height"][e.ort];return e.ort===0?t.width||m[s]:t.height||m[s]}function B(t,s,a,n){var l=function(p){var d=ft(p,n.pageOffset,n.target||s);if(!d||Ve()&&!n.doNotReject||jt(o,e.cssClasses.tap)&&!n.doNotReject||t===u.start&&d.buttons!==void 0&&d.buttons>1||n.hover&&d.buttons)return!1;h||d.preventDefault(),d.calcPoint=d.points[e.ort],a(d,n)},c=[];return t.split(" ").forEach(function(p){s.addEventListener(p,l,h?{passive:!0}:!1),c.push([p,l])}),c}function ft(t,s,a){var n=t.type.indexOf("touch")===0,l=t.type.indexOf("mouse")===0,c=t.type.indexOf("pointer")===0,p=0,d=0;if(t.type.indexOf("MSPointer")===0&&(c=!0),t.type==="mousedown"&&!t.buttons&&!t.touches)return!1;if(n){var _=function(E){var S=E.target;return S===a||a.contains(S)||t.composed&&t.composedPath().shift()===a};if(t.type==="touchstart"){var x=Array.prototype.filter.call(t.touches,_);if(x.length>1)return!1;p=x[0].pageX,d=x[0].pageY}else{var C=Array.prototype.find.call(t.changedTouches,_);if(!C)return!1;p=C.pageX,d=C.pageY}}return s=s||Xe(q),(l||c)&&(p=t.clientX+s.x,d=t.clientY+s.y),t.pageOffset=s,t.points=[p,d],t.cursor=l||c,t}function Le(t){var s=t-$t(m,e.ort),a=s*100/Ae();return a=Ie(a),e.dir?100-a:a}function dt(t){var s=100,a=!1;return g.forEach(function(n,l){if(!oe(l)){var c=w[l],p=Math.abs(c-t),d=p===100&&s===100,_=p<s,x=p<=s&&t>c;(_||x||d)&&(a=l,s=p)}}),a}function ht(t,s){t.type==="mouseout"&&t.target.nodeName==="HTML"&&t.relatedTarget===null&&fe(t,s)}function pt(t,s){if(navigator.appVersion.indexOf("MSIE 9")===-1&&t.buttons===0&&s.buttonsProperty!==0)return fe(t,s);var a=(e.dir?-1:1)*(t.calcPoint-s.startCalcPoint),n=a*100/s.baseSize;De(a>0,n,s.locations,s.handleNumbers,s.connect)}function fe(t,s){s.handle&&(re(s.handle,e.cssClasses.active),ie-=1),s.listeners.forEach(function(a){J.removeEventListener(a[0],a[1])}),ie===0&&(re(o,e.cssClasses.drag),ge(),t.cursor&&(Z.style.cursor="",Z.removeEventListener("selectstart",Ne))),e.events.smoothSteps&&(s.handleNumbers.forEach(function(a){I(a,w[a],!0,!0,!1,!1)}),s.handleNumbers.forEach(function(a){y("update",a)})),s.handleNumbers.forEach(function(a){y("change",a),y("set",a),y("end",a)})}function de(t,s){if(!s.handleNumbers.some(oe)){var a;if(s.handleNumbers.length===1){var n=g[s.handleNumbers[0]];a=n.children[0],ie+=1,M(a,e.cssClasses.active)}t.stopPropagation();var l=[],c=B(u.move,J,pt,{target:t.target,handle:a,connect:s.connect,listeners:l,startCalcPoint:t.calcPoint,baseSize:Ae(),pageOffset:t.pageOffset,handleNumbers:s.handleNumbers,buttonsProperty:t.buttons,locations:w.slice()}),p=B(u.end,J,fe,{target:t.target,handle:a,listeners:l,doNotReject:!0,handleNumbers:s.handleNumbers}),d=B("mouseout",J,ht,{target:t.target,handle:a,listeners:l,doNotReject:!0,handleNumbers:s.handleNumbers});l.push.apply(l,c.concat(p,d)),t.cursor&&(Z.style.cursor=getComputedStyle(t.target).cursor,g.length>1&&M(o,e.cssClasses.drag),Z.addEventListener("selectstart",Ne,!1)),s.handleNumbers.forEach(function(_){y("start",_)})}}function gt(t){t.stopPropagation();var s=Le(t.calcPoint),a=dt(s);a!==!1&&(e.events.snap||Be(o,e.cssClasses.tap,e.animationDuration),I(a,s,!0,!0),ge(),y("slide",a,!0),y("update",a,!0),e.events.snap?de(t,{handleNumbers:[a]}):(y("change",a,!0),y("set",a,!0)))}function vt(t){var s=Le(t.calcPoint),a=v.getStep(s),n=v.fromStepping(a);Object.keys(j).forEach(function(l){l.split(".")[0]==="hover"&&j[l].forEach(function(c){c.call(te,n)})})}function mt(t,s){if(Ve()||oe(s))return!1;var a=["Left","Right"],n=["Down","Up"],l=["PageDown","PageUp"],c=["Home","End"];e.dir&&!e.ort?a.reverse():e.ort&&!e.dir&&(n.reverse(),l.reverse());var p=t.key.replace("Arrow",""),d=p===l[0],_=p===l[1],x=p===n[0]||p===a[0]||d,C=p===n[1]||p===a[1]||_,E=p===c[0],S=p===c[1];if(!x&&!C&&!E&&!S)return!0;t.preventDefault();var A;if(C||x){var D=x?0:1,L=$e(s),k=L[D];if(k===null)return!1;k===!1&&(k=v.getDefaultStep(w[s],x,e.keyboardDefaultStep)),_||d?k*=e.keyboardPageMultiplier:k*=e.keyboardMultiplier,k=Math.max(k,1e-7),k=(x?-1:1)*k,A=U[s]+k}else S?A=e.spectrum.xVal[e.spectrum.xVal.length-1]:A=e.spectrum.xVal[0];return I(s,v.toStepping(A),!0,!0),y("slide",s),y("update",s),y("change",s),y("set",s),!1}function ke(t){t.fixed||g.forEach(function(s,a){B(u.start,s.children[0],de,{handleNumbers:[a]})}),t.tap&&B(u.start,m,gt,{}),t.hover&&B(u.move,m,vt,{hover:!0}),t.drag&&V.forEach(function(s,a){if(!(s===!1||a===0||a===V.length-1)){var n=g[a-1],l=g[a],c=[s],p=[n,l],d=[a-1,a];M(s,e.cssClasses.draggable),t.fixed&&(c.push(n.children[0]),c.push(l.children[0])),t.dragAll&&(p=g,d=H),c.forEach(function(_){B(u.start,_,de,{handles:p,handleNumbers:d,connect:s})})}})}function he(t,s){j[t]=j[t]||[],j[t].push(s),t.split(".")[0]==="update"&&g.forEach(function(a,n){y("update",n)})}function St(t){return t===z.aria||t===z.tooltips}function K(t){var s=t&&t.split(".")[0],a=s?t.substring(s.length):t;Object.keys(j).forEach(function(n){var l=n.split(".")[0],c=n.substring(l.length);(!s||s===l)&&(!a||a===c)&&(!St(c)||a===c)&&delete j[n]})}function y(t,s,a){Object.keys(j).forEach(function(n){var l=n.split(".")[0];t===l&&j[n].forEach(function(c){c.call(te,U.map(e.format.to),s,U.slice(),a||!1,w.slice(),te)})})}function Q(t,s,a,n,l,c,p){var d;return g.length>1&&!e.events.unconstrained&&(n&&s>0&&(d=v.getAbsoluteDistance(t[s-1],e.margin,!1),a=Math.max(a,d)),l&&s<g.length-1&&(d=v.getAbsoluteDistance(t[s+1],e.margin,!0),a=Math.min(a,d))),g.length>1&&e.limit&&(n&&s>0&&(d=v.getAbsoluteDistance(t[s-1],e.limit,!1),a=Math.min(a,d)),l&&s<g.length-1&&(d=v.getAbsoluteDistance(t[s+1],e.limit,!0),a=Math.max(a,d))),e.padding&&(s===0&&(d=v.getAbsoluteDistance(0,e.padding[0],!1),a=Math.max(a,d)),s===g.length-1&&(d=v.getAbsoluteDistance(100,e.padding[1],!0),a=Math.min(a,d))),p||(a=v.getStep(a)),a=Ie(a),a===t[s]&&!c?!1:a}function pe(t,s){var a=e.ort;return(a?s:t)+", "+(a?t:s)}function De(t,s,a,n,l){var c=a.slice(),p=n[0],d=e.events.smoothSteps,_=[!t,t],x=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach(function(E,S){var A=Q(c,E,c[E]+s,_[S],x[S],!1,d);A===!1?s=0:(s=A-c[E],c[E]=A)}):_=x=[!0];var C=!1;n.forEach(function(E,S){C=I(E,a[E]+s,_[S],x[S],!1,d)||C}),C&&(n.forEach(function(E){y("update",E),y("slide",E)}),l!=null&&y("drag",p))}function Me(t,s){return e.dir?100-t-s:t}function bt(t,s){w[t]=s,U[t]=v.fromStepping(s);var a=Me(s,0)-et,n="translate("+pe(a+"%","0")+")";if(g[t].style[e.transformRule]=n,e.events.invertConnects&&w.length>1){var l=w.every(function(c,p,d){return p===0||c>=d[p-1]});if(W!==!l){Vt();return}}X(t),X(t+1),W&&(X(t-1),X(t+2))}function ge(){H.forEach(function(t){var s=w[t]>50?-1:1,a=3+(g.length+s*t);g[t].style.zIndex=String(a)})}function I(t,s,a,n,l,c){return l||(s=Q(w,t,s,a,n,!1,c)),s===!1?!1:(bt(t,s),!0)}function X(t){if(V[t]){var s=w.slice();W&&s.sort(function(d,_){return d-_});var a=0,n=100;t!==0&&(a=s[t-1]),t!==V.length-1&&(n=s[t]);var l=n-a,c="translate("+pe(Me(a,l)+"%","0")+")",p="scale("+pe(l/100,"1")+")";V[t].style[e.transformRule]=c+" "+p}}function Oe(t,s){return t===null||t===!1||t===void 0||(typeof t=="number"&&(t=String(t)),t=e.format.from(t),t!==!1&&(t=v.toStepping(t)),t===!1||isNaN(t))?w[s]:t}function ee(t,s,a){var n=ae(t),l=w[0]===void 0;s=s===void 0?!0:s,e.animate&&!l&&Be(o,e.cssClasses.tap,e.animationDuration),H.forEach(function(d){I(d,Oe(n[d],d),!0,!1,a)});var c=H.length===1?0:1;if(l&&v.hasNoSize()&&(a=!0,w[0]=0,H.length>1)){var p=100/(H.length-1);H.forEach(function(d){w[d]=d*p})}for(;c<H.length;++c)H.forEach(function(d){I(d,w[d],!0,!0,a)});ge(),H.forEach(function(d){y("update",d),n[d]!==null&&s&&y("set",d)})}function _t(t){ee(e.start,t)}function xt(t,s,a,n){if(t=Number(t),!(t>=0&&t<H.length))throw new Error("noUiSlider: invalid handle number, got: "+t);I(t,Oe(s,t),!0,!0,n),y("update",t),a&&y("set",t)}function He(t){if(t===void 0&&(t=!1),t)return U.length===1?U[0]:U.slice(0);var s=U.map(e.format.to);return s.length===1?s[0]:s}function wt(){for(K(z.aria),K(z.tooltips),Object.keys(e.cssClasses).forEach(function(t){re(o,e.cssClasses[t])});o.firstChild;)o.removeChild(o.firstChild);delete o.noUiSlider}function $e(t){var s=w[t],a=v.getNearbySteps(s),n=U[t],l=a.thisStep.step,c=null;if(e.snap)return[n-a.stepBefore.startValue||null,a.stepAfter.startValue-n||null];l!==!1&&n+l>a.stepAfter.startValue&&(l=a.stepAfter.startValue-n),n>a.thisStep.startValue?c=a.thisStep.step:a.stepBefore.step===!1?c=!1:c=n-a.stepBefore.highestStep,s===100?l=null:s===0&&(c=null);var p=v.countStepDecimals();return l!==null&&l!==!1&&(l=Number(l.toFixed(p))),c!==null&&c!==!1&&(c=Number(c.toFixed(p))),[c,l]}function Ct(){return H.map($e)}function Et(t,s){var a=He(),n=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];n.forEach(function(c){t[c]!==void 0&&(i[c]=t[c])});var l=Qe(i);n.forEach(function(c){t[c]!==void 0&&(e[c]=l[c])}),v=l.spectrum,e.margin=l.margin,e.limit=l.limit,e.padding=l.padding,e.pips?ue(e.pips):ce(),e.tooltips?ye():le(),w=[],ee(we(t.start)?t.start:a,s),t.connect&&Ue()}function Ue(){for(;b.firstChild;)b.removeChild(b.firstChild);for(var t=0;t<=e.handles;t++)V[t]=ne(b,e.connect[t]),X(t);ke({drag:e.events.drag,fixed:!0})}function Vt(){W=!W,Je(e,e.connect.map(function(t){return!t})),Ue()}function yt(){m=st(o),rt(e.connect,m),ke(e.events),ee(e.start),e.pips&&ue(e.pips),e.tooltips&&ye(),ot()}yt();var te={destroy:wt,steps:Ct,on:he,off:K,get:He,set:ee,setHandle:xt,reset:_t,disable:it,enable:nt,__moveHandles:function(t,s,a){De(t,s,w,a)},options:i,updateOptions:Et,target:o,removePips:ce,removeTooltips:le,getPositions:function(){return w.slice()},getTooltips:function(){return T},getOrigins:function(){return g},pips:ue};return te}function gr(r,e){if(!r||!r.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+r);if(r.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=Qe(e),u=pr(r,i,e);return r.noUiSlider=u,u}const vr={__spectrum:Ge,cssClasses:Ye,create:gr},G=N(".shop-some__items"),xe=N(".catalog__shop"),We=N(".nothing");class mr extends Ke{accordeonButtons;lengthLabels;labels;brand;length;minPrice;maxPrice;rangeSlider;inputs;inputFirst;inputSecond;filteredCards;constructor(){super(),this.accordeonButtons=_e(".accordeon__button"),this.labels=_e(".brand-item"),this.lengthLabels=_e(".length-item"),this.minPrice=null,this.maxPrice=null,this.brand=null,this.length=null,this.rangeSlider=document.getElementById("range-slider"),this.inputFirst=N(".range__input_first"),this.inputSecond=N(".range__input_second"),this.inputs=[this.inputFirst,this.inputSecond],this.filteredCards=[...this.shopDb],this.labels.forEach(e=>{e.addEventListener("click",()=>{this.brand=e.textContent,this.applyFilters()})}),this.accordeonButtons.forEach(e=>{e.addEventListener("click",()=>{const i=e,u=i.nextElementSibling,f=i.children[1].children[1];this.toggleFunc(u,f)})}),this.lengthLabels.forEach(e=>{e.addEventListener("click",()=>{this.length=e.textContent,this.applyFilters()})}),this.rangeSlider&&(this.initializeSlider(),this.changeInputs())}toggleFunc(e,i){e.classList.contains("accordeon__list_active")?(e.classList.remove("accordeon__list_active"),e.style.maxHeight="0",i.style.opacity="1"):(e.classList.add("accordeon__list_active"),e.style.maxHeight=e.scrollHeight+"px",i.style.opacity="0")}applyFilters(){this.filteredCards=[...this.shopDb],this.brand&&(this.filteredCards=this.filteredCards.filter(e=>e.data.brand.stringValue.toLocaleLowerCase()===this.brand.trim())),this.length&&(this.filteredCards=this.filteredCards.filter(e=>e.data.length.stringValue===this.length.trim())),this.minPrice!==null&&this.maxPrice!==null&&(this.filteredCards=this.filteredCards.filter(e=>{const i=parseFloat(e.data.cost.stringValue);return i>=this.minPrice&&i<=this.maxPrice})),this.filteredCards.length===0?(xe?.classList.add("catalog__shop_no-cards"),We?.classList.add("nothing_active")):(xe?.classList.remove("catalog__shop_no-cards"),We?.classList.remove("nothing_active")),this.renderCards()}renderCards(){G&&(G.innerHTML="",console.log("wrapper is here"),this.filteredCards.forEach(e=>{G&&(e.data.sale.booleanValue===!1?G.insertAdjacentHTML("afterbegin",`
              <a class="card shop-some__card ${e.id}" href="one-product.html?id=${e.id}">
                <div class="card__img">
                  <picture>
                    <source srcset=${e.data.imgWebP.stringValue} type="image/webp" />
                    <img src=${e.data.img.stringValue} />
                  </picture>
                </div>
                <div class="card__info">
                  <p class="card__category">${e.data.category.stringValue}</p>
                  <h3 class="card__title">${e.data.name.stringValue}</h3>
                  <p class="card__price">${e.data.cost.stringValue}</p>
                </div>
              </a>
              `):G.insertAdjacentHTML("afterbegin",`
              <a class="card sale shop-some__card ${e.id}" href="one-product.html?id=${e.id}">
                <div class="card__img">
                  <picture>
                    <source srcset=${e.data.imgWebP.stringValue} type="image/webp" />
                    <img src=${e.data.img.stringValue} />
                  </picture>
                  <div class="card__sale">
                    <p>-30%</p>
                  </div>
                </div>
                <div class="card__info">
                  <p class="card__category">${e.data.category.stringValue}</p>
                  <h3 class="card__title">${e.data.name.stringValue}</h3>
                  <p class="card__price">${e.data.costNew.stringValue} <span>${e.data.cost.stringValue}</span></p>
                </div>
              </a>
              `)),console.log(xe)}))}initializeSlider(){vr.create(this.rangeSlider,{start:[50,1e3],step:1,connect:!0,range:{min:50,max:1e3}}),this.rangeSlider.noUiSlider.on("update",(e,i)=>{const u=this.inputs[i];u&&(u.value=String(Math.round(e[i])),i===0?this.minPrice=Math.round(e[i]):this.maxPrice=Math.round(e[i]),this.applyFilters())})}setRangeSlider(e,i){const u=[null,null];u[e]=i,this.rangeSlider.noUiSlider.set(u)}changeInputs(){this.inputs.forEach((e,i)=>{e?.addEventListener("change",u=>{const f=u.currentTarget;f&&(this.setRangeSlider(i,parseFloat(f.value)),this.applyFilters())})})}}document.addEventListener("DOMContentLoaded",async()=>{new Pt,new At,new mr,Dt(),new Lt});
